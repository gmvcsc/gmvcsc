<!DOCTYPE html>
<html>

<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
  <title>GMVCSC | Home</title>
  <link href="styles/style1.css" media="screen" rel="stylesheet" type="text/css" />
  <style type="text/css">
    .auto-style1 {
      margin-left: 0px;
    }
  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script> 
    function loadContentPage(contentName) {
      contents.load(`content-pages/${contentName}.html`, function (responseText, textStatus, req) {
            if (textStatus === "error") {
              alert(`Content page for "${e.text()}" does not exist.`);
              return;
            }
            location.hash = contentName;
          });
    }

    function setupLinks() {
      var navbar = $("#navbar");
      var navbarList = navbar.find("li");

      navbarList.each(function (index, element) {
        var e = $(element);
        e.click(function () {
          loadContentPage(e.attr('data-contents'));
        });
      });
    }

    function handleHash() {
      var hash = location.hash.substring(1);
      contents.load(`content-pages/${hash}.html`, function (responseText, textStatus, req) {
        if (textStatus === "error") {
          loadContentPage('home');
          return;
        }
      });
    }

    var contents;
    $(document).ready(function () {
      $("#navigation").load("templates/nav.html", function () {
        setupLinks();
      });

      $("#footer").load("templates/footer.html", );
      $("#sidebar").load("templates/sidebar.html");

      contents = $("#contents");
      handleHash();
    });
  </script>
</head>

<body>
  <div id="navigation"></div>
  <div id="container">
    <div id="contents"></div>
    <div id="footer"></div>
  </div>
</body>

</html>